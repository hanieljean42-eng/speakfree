# ğŸ’¬ SpeakFree - Plateforme de Signalement Anonyme

**DÃ©veloppÃ© par Haniel DJEBLE**  
**Version:** 1.0  
**Date:** 2025

## ğŸ“‹ Description

SpeakFree est une plateforme web sÃ©curisÃ©e permettant aux Ã©lÃ¨ves de signaler anonymement des incidents dans leur Ã©cole (harcÃ¨lement, violence, discrimination, vol, etc.).

### âœ¨ FonctionnalitÃ©s principales

- ğŸ”’ **Signalements 100% anonymes**
- ğŸ¤– **Assistant IA Haniel** pour guider les Ã©lÃ¨ves
- ğŸ“¸ **Upload de photos/vidÃ©os** (10 MB max par fichier)
- ğŸ’¬ **Discussions sÃ©curisÃ©es** entre Ã©lÃ¨ves et administration
- ğŸ‘” **Dashboard administrateur** complet avec statistiques rÃ©elles
- âš™ï¸ **Panel super admin** pour gÃ©rer les Ã©coles
- ğŸ” **Authentification JWT** sÃ©curisÃ©e
- ğŸ›¡ï¸ **Protection DDoS** avec rate limiting

---

## ğŸš€ Installation Rapide

### PrÃ©requis

- Node.js 14+ et npm
- Port 3000 disponible
- ClÃ© API Anthropic (pour le chat IA)

### Ã‰tapes d'installation

```bash
# 1. Cloner le projet
git clone https://github.com/hanieljean42-eng/SIGNAL-A-ECOLE.git
cd SIGNAL-A-ECOLE

# 2. Installer les dÃ©pendances
npm install

# 3. CrÃ©er les dossiers nÃ©cessaires
mkdir -p uploads/reports uploads/discussions database

# 4. Configurer l'environnement
cp .env.example .env
nano .env  # Ã‰diter et configurer

# 5. DÃ©marrer le serveur
npm start
```

Le serveur dÃ©marre sur **http://localhost:3000**

---

## âš™ï¸ Configuration (.env)

CrÃ©ez un fichier `.env` Ã  la racine avec les variables suivantes :

```env
# Base de donnÃ©es
DATABASE_PATH=./database/speakfree.db

# Serveur
PORT=3000
NODE_ENV=production

# SÃ©curitÃ© - CHANGEZ CES VALEURS !
JWT_SECRET=votre_secret_jwt_minimum_64_caracteres_tres_securise
SUPER_ADMIN_PASSWORD=200700

# API Claude pour Haniel
ANTHROPIC_API_KEY=sk-ant-votre_cle_api_anthropic

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
```

âš ï¸ **IMPORTANT** : Changez `JWT_SECRET` et obtenez une clÃ© API Anthropic sur https://console.anthropic.com

---

## ğŸ“ Structure du Projet

```
SPEAKFREE/
â”œâ”€â”€ server.js                 # Serveur Express principal
â”œâ”€â”€ package.json              # DÃ©pendances npm
â”œâ”€â”€ .env                      # Configuration (Ã  crÃ©er)
â”œâ”€â”€ .env.example              # Template de configuration
â”‚
â”œâ”€â”€ public/                   # Interface web (13 pages HTML)
â”‚   â”œâ”€â”€ index.html            # Page d'accueil
â”‚   â”œâ”€â”€ chat-ia.html          # Chat avec Haniel (IA)
â”‚   â”œâ”€â”€ report.html           # Formulaire de signalement
â”‚   â”œâ”€â”€ discussion.html       # Discussion avec l'Ã©cole
â”‚   â”œâ”€â”€ admin.html            # Dashboard administrateur
â”‚   â”œâ”€â”€ super-admin.html      # Panel super admin
â”‚   â”œâ”€â”€ login.html            # Connexion admin
â”‚   â”œâ”€â”€ register-school.html  # Inscription Ã©cole
â”‚   â”œâ”€â”€ reprendre-haniel.html # Reprendre conversation IA
â”‚   â”œâ”€â”€ guide.html            # Guide d'utilisation
â”‚   â”œâ”€â”€ about.html            # Ã€ propos
â”‚   â”œâ”€â”€ terms.html            # Conditions d'utilisation
â”‚   â””â”€â”€ schools.html          # Annuaire des Ã©coles
â”‚
â”œâ”€â”€ routes/                   # Routes API (8 fichiers)
â”‚   â”œâ”€â”€ auth.js               # Authentification JWT
â”‚   â”œâ”€â”€ reports.js            # Signalements + upload
â”‚   â”œâ”€â”€ ai-chat.js            # Chat IA Haniel
â”‚   â”œâ”€â”€ schools.js            # Gestion Ã©coles
â”‚   â”œâ”€â”€ discussions.js        # Discussions sÃ©curisÃ©es
â”‚   â”œâ”€â”€ super-admin.js        # Super administrateur
â”‚   â”œâ”€â”€ admin.js              # Dashboard admin
â”‚   â””â”€â”€ users.js              # Gestion utilisateurs
â”‚
â”œâ”€â”€ database/
â”‚   â””â”€â”€ speakfree.db          # Base SQLite (crÃ©Ã©e auto)
â”‚
â””â”€â”€ uploads/                  # Fichiers uploadÃ©s
    â”œâ”€â”€ reports/              # Photos/vidÃ©os signalements
    â””â”€â”€ discussions/          # Fichiers discussions
```

---

## ğŸ”‘ Codes d'AccÃ¨s

### Super Admin
- **URL**: http://localhost:3000/super-admin
- **Code**: `200700`

### Annuaire des Ã‰coles (protÃ©gÃ©)
- **URL**: http://localhost:3000/schools
- **Mot de passe**: `200700`

### Comptes de test (aprÃ¨s inscription)
Les administrateurs reÃ§oivent leurs identifiants aprÃ¨s approbation par le super admin.

---

## ğŸ“¡ API Routes

### Authentification
- `POST /api/auth/login` - Connexion admin
- `POST /api/auth/register` - Inscription admin
- `GET /api/auth/me` - Infos admin connectÃ©
- `POST /api/auth/change-password` - Changer mot de passe

### Signalements
- `POST /api/reports/create` - CrÃ©er un signalement
- `GET /api/reports/track/:trackingCode` - Suivre un signalement
- `GET /api/reports/school/:schoolId` - Liste signalements d'une Ã©cole
- `PATCH /api/reports/:reportId/status` - Changer le statut

### Chat IA
- `POST /api/ai-chat/create-session` - CrÃ©er une session
- `GET /api/ai-chat/session/:sessionCode` - RÃ©cupÃ©rer une session
- `POST /api/ai-chat/message` - Envoyer un message Ã  l'IA
- `POST /api/ai-chat/finalize` - Finaliser et crÃ©er signalement

### Discussions
- `GET /api/discussions/:discussionCode` - AccÃ©der Ã  une discussion
- `POST /api/discussions/:discussionCode/message` - Envoyer un message

### Ã‰coles
- `POST /api/schools/register` - Inscrire une Ã©cole
- `GET /api/schools/list` - Liste des Ã©coles actives
- `GET /api/schools/:schoolCode` - DÃ©tails d'une Ã©cole
- `GET /api/schools/verify/:schoolCode` - VÃ©rifier une Ã©cole

### Admin
- `GET /api/admin/dashboard` - Statistiques dashboard
- `GET /api/admin/reports` - Liste des signalements
- `GET /api/admin/reports/:reportId` - DÃ©tails signalement
- `POST /api/admin/reports/:reportId/reply` - RÃ©pondre

### Super Admin
- `GET /api/super-admin/schools/pending` - Ã‰coles en attente
- `GET /api/super-admin/schools/active` - Ã‰coles actives
- `POST /api/super-admin/schools/:schoolId/approve` - Approuver
- `POST /api/super-admin/schools/:schoolId/reject` - Rejeter
- `DELETE /api/super-admin/schools/:schoolId` - Supprimer

---

## ğŸ’¾ Base de DonnÃ©es

### Tables principales

- `schools` - Ã‰coles enregistrÃ©es
- `admins` - Administrateurs d'Ã©coles
- `reports` - Signalements
- `report_files` - Fichiers joints aux signalements
- `discussions` - Messages de discussion
- `ai_chat_sessions` - Sessions de chat IA
- `ai_chat_messages` - Messages du chat IA

La base de donnÃ©es SQLite est crÃ©Ã©e automatiquement au premier dÃ©marrage.

---

## ğŸ”’ SÃ©curitÃ©

### Mesures de sÃ©curitÃ© implÃ©mentÃ©es

âœ… **Hachage bcrypt** des mots de passe (10 rounds)  
âœ… **Authentification JWT** (expire aprÃ¨s 24h)  
âœ… **Rate limiting** (100 requÃªtes/15min)  
âœ… **Helmet.js** (protection headers HTTP)  
âœ… **CORS** configurÃ©  
âœ… **Validation** des entrÃ©es  
âœ… **Upload sÃ©curisÃ©** (types et tailles vÃ©rifiÃ©s)  
âœ… **Anonymat garanti** pour les Ã©lÃ¨ves  

### Recommandations de sÃ©curitÃ©

1. **Changez immÃ©diatement** `JWT_SECRET` dans `.env`
2. **Changez** `SUPER_ADMIN_PASSWORD` si besoin
3. **ProtÃ©gez** le fichier `.env` (ne jamais commit)
4. **Utilisez HTTPS** en production
5. **Configurez** un firewall
6. **Sauvegardez** rÃ©guliÃ¨rement la base de donnÃ©es

---

## ğŸš€ DÃ©ploiement

### Avec PM2 (recommandÃ© pour production)

```bash
# Installer PM2
npm install -g pm2

# DÃ©marrer l'application
pm2 start server.js --name speakfree

# Sauvegarder la configuration
pm2 save

# DÃ©marrage automatique au boot
pm2 startup
```

### Avec Docker (Ã  venir)

```bash
# Build
docker build -t speakfree .

# Run
docker run -p 3000:3000 speakfree
```

---

## ğŸ“ Contact & Support

**DÃ©veloppeur**: Haniel DJEBLE  
**Email**: hanieljean42@gmail.com  
**TÃ©lÃ©phone**: 0150252467  
**Localisation**: Abidjan, CÃ´te d'Ivoire

---

## ğŸ“„ Licence

Â© 2025 Haniel DJEBLE - Tous droits rÃ©servÃ©s

---

## ğŸ‰ Changelog

### Version 1.0 (2025)
- âœ… Lancement initial de la plateforme
- âœ… Signalements anonymes avec codes de suivi
- âœ… Chat IA Haniel avec API Claude
- âœ… Dashboard administrateur complet
- âœ… Panel super admin
- âœ… Upload de fichiers (photos/vidÃ©os)
- âœ… Discussions sÃ©curisÃ©es
- âœ… Authentification JWT
- âœ… 13 pages frontend complÃ¨tes
- âœ… 8 routes backend fonctionnelles
- âœ… Statistiques rÃ©elles en temps rÃ©el
- âœ… Validation tÃ©lÃ©phone 10 chiffres

---

## ğŸ™ Remerciements

Merci d'utiliser SpeakFree pour rendre les Ã©coles plus sÃ»res ! ğŸ›¡ï¸

**Bon signalement !** ğŸš€